!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(o){const n=new URL(e,location),r=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((o,a)=>{const l=new URL(e,n);if(self[t].moduleMap[l])return o(self[t].moduleMap[l]);const i=new Blob([`import * as m from '${l}';`,`${t}.moduleMap['${l}']=m;`],{type:"text/javascript"}),s=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(i),onerror(){a(new Error(`Failed to import: ${e}`)),r(s)},onload(){o(self[t].moduleMap[l]),r(s)}});document.head.appendChild(s)})),self[t].moduleMap={}}}("/squares/assets/");const e=document.getElementById("canvas"),t=e.getContext("2d");let o="red";let n,r,a=0,l=0;const i=[];let s;const c=()=>{requestAnimationFrame(c),t.clearRect(0,0,e.width,e.height),n=Math.floor((e.width-48)/50),s=void 0;for(let{end:e,start:o,player:n}of i)t.beginPath(),t.strokeStyle=n,t.lineWidth=4,t.moveTo(o.x,o.y),t.lineTo(e.x,e.y),t.stroke();if(r){t.beginPath();const e=Math.floor(Math.sqrt(Math.pow(a-r.x,2)+Math.pow(l-r.y,2)));t.strokeStyle=e<=n?"grey":"red",t.moveTo(r.x,r.y),t.lineTo(a,l),t.stroke()}for(let e=0;e<52;e++)for(let o=0;o<52;o++){const r=o*n+24,i=e*n+24,c=Math.sqrt(Math.pow(a-r,2)+Math.pow(l-i,2));(!s||s&&s.distance>c)&&c<n/3&&(s={distance:c,x:r,y:i}),t.beginPath(),t.fillStyle="pink",t.arc(r,i,4,0,2*Math.PI),t.fill()}if(s){const{x:e,y:o}=s;t.beginPath(),t.fillStyle="green",t.arc(e,o,8,0,2*Math.PI),t.fill()}t.beginPath(),t.fillStyle="red",t.arc(a,l,4,0,2*Math.PI),t.fill()},h=e=>{a=e.clientX,l=e.clientY},d=e=>{s&&(r=s)},f=e=>{if(r&&s){if(n){const e=Math.sqrt(Math.pow(r.x-s.x,2)+Math.pow(r.y-s.y,2));if(Math.floor(e)<=n){i.push({start:r,end:s,player:o}),o="red"===o?"green":"red";Math.floor(Math.abs((t=r,a=s,Math.atan((a.y-t.y)/(a.x-t.x)))))>0?console.debug("vertical line"):console.debug("horizontal line")}}r=void 0}var t,a};e.width=window.innerWidth,e.height=window.innerHeight,e.onmousemove=h,e.onmousedown=d,e.onmouseup=f,c();
